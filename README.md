# Проектная работа "Веб-ларек"
https://github.com/Volobueva-Kristina/web-larek-frontend.git

Стек: HTML, SCSS, TS, Webpack

Для сборки используется webpack.

Инструменты линтинга и форматирования подключены.

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

После клонирования проекта установить зависимости:
```
npm install
```
Для запуска проекта в режиме разработки выполнить команду:
```
npm run start
```

или

```
yarn
yarn start
```

и открыть в браузере страницу по адресу http://localhost:8080

## Сборка
Для сборки проекта в продакшен выполнить команду:
```
npm run build
```

или

```
yarn build
```
## Описание базовых классов

«Класс EventEmitter обеспечивает работу событий. Его функции: возможность установить и снять слушателей событий, вызвать слушателей при возникновении события».
Класс имеет методы on ,  off ,  emit  — для подписки на событие, отписки от события и уведомления
подписчиков о наступлении события соответственно.
Дополнительно реализованы методы:
- onAll и  offAll  — для подписки на все события и сброса всех
подписчиков.
- trigger , генерирующий заданное событие с заданными аргументами. Это позволяет передавать его в качестве обработчика события в другие классы.



## Описание компонентов их функций и связей с другими компонентами

- ProductList - компонент для отображения списка товаров. Содержит компоненты карточек ProductCard.

- ProductCard — компонент для отображения информации о конкретном товаре. Содержит изображение, название, цену, категорию. При клике на карточку появляется компонент ProductCardDetails.

- ProductCardDetails — модальное окно с детальной информацией о товаре, которое появляется при нажатии на карточку товара (компонент ProductCard).Содержит изображение, категорию, название, описание, цену, компонент кнопки Button для добавления товара в корзину. При нажатии на кнопку «Купить» товар добавляется в корзину, если не был добавлен в корзину раньше.

- headerBasket — иконка корзины. при нажатии на иконку корзины, открывается корзина с товарами, которые добавил пользователь.

- Button - компонент кнопка. В зависимости от класса выполняет действия: закрытие модального окна, добавление в корзину товаров, удаление товаров из корзины, переход к следующему шагу оформления заказа, оформление заказа.

- Basket - компонент корзины, сожержит информацию о добавленных товарах: наименование, стоимость и итоговая стоимость всех добавленных в корзину товаров. Ключевые методы - удаление товара, добавление товара. Содержит компоненты товара Product, кнопки Button, итоговой стоимости.

## Модель данных приложения

```
interface AppState {
	product: IProduct;
	productList: IApiListResponse<IProduct>;

	selectedProduct: IProduct | null;
	basket: Map<string, number>;
	basketTotal: number;
	contacts: IContacts;
	order: IOrderPayment;

  errorMessage: IErrorMessage;

  getProductList: () => Promise<IApiListResponse<IProduct>>;
	getProduct: (id: string) => Promise<IProduct>;
	orderProduct: (order: IOrder) => Promise<IOrderResult[]>;

	restoreState(): void;
	persistState(): void;

	addProduct(product: IProduct): void;
	removeProduct(id: string): void;
	fillContacts(contacts: IContacts): void;
	isValidContacts(): boolean;
  isValidAddress(): boolean;
	OrderPaid(): void;
}
```

## События

- cardSelected - При клике на карточку в списке товаров.

- addProduct - при клике на кнопку добавления в корзину.

- removeProduct - при клике на кнопку удаления из корзины.

- fillContacts - при вводе данных инизиализирует валидацию формы при вводе адреса.

- fillAddres - при вводе данных инизиализирует валидацию формы контактов покупателя.

- isValidContacts - валидация формы при вводе телефона и электронной почты.

- isValidAddress - валидация формы при вводе адреса.

- OrderPaid - при нажатии на кнопку оплаты появляется сообщение об успешной оплате и товары удаляются из корзины.